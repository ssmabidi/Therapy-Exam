var TEP_EXAM=TEP_EXAM||{};TEP_EXAM.eventEmitter=new EventEmitter;
TEP_EXAM.model={TUTORIAL_TIME:15,timer:new Timer,initialize:function(){this.state.initialize()},startTimer:function(a){if(null==TEP_EXAM.model.state.startTime)TEP_EXAM.model.state.startTime=moment().unix(),this.timer.start({countdown:!0,startValues:{minutes:TEP_EXAM.model.TUTORIAL_TIME}}),this.timer.addEventListener("secondsUpdated",a),this.timer.addEventListener("targetAchieved",TEP_EXAM.model.timerExpired);else{var b=moment.unix(TEP_EXAM.model.state.startTime);moment().diff(b,"minutes",!0)<TEP_EXAM.model.TUTORIAL_TIME?
this.timer.isPaused()?this.timer.start():(b=b.add(TEP_EXAM.model.TUTORIAL_TIME,"minutes").diff(moment(),"seconds"),this.timer.start({countdown:!0,startValues:{seconds:b}}),this.timer.addEventListener("secondsUpdated",a),this.timer.addEventListener("targetAchieved",TEP_EXAM.model.timerExpired)):TEP_EXAM.eventEmitter.emitEvent("EVENT_TIMER_EXPIRED")}},timerExpired:function(){TEP_EXAM.eventEmitter.emitEvent("EVENT_TIMER_EXPIRED")}};
TEP_EXAM.model.state={startTime:null,restoreState:function(a){this.startTime=a.startTime}};
TEP_EXAM.view={initialize:function(){$("#fb_fld-QuestionView").attr("oncontextmenu","return false;");$(".Question .body-copy").textHighlighter({onBeforeHighlight:function(a){return!0},onAfterHighlight:function(a){},onRemoveHighlight:function(a){return!0}});this.updateHeader();this.updateQuestionView()},updateHeader:function(){var a=$("#username"),b=$("#email");amUser&&(a.text(amUser),b.text(amEmail))},setupTimerStart:function(){var a=TEP_EXAM.model.timer.getTimeValues().toString();$("#TimerDisplay").html(a)},
updateTimer:function(){var a=TEP_EXAM.model.timer.getTimeValues().toString();$("#TimerDisplay").html(a)},toggleMarked:function(){"Mark"==$("#Mark").attr("value")?$("#Mark").attr("value","Unmark"):$("#Mark").attr("value","Mark")},updateQuestionView:function(){$(".Question .body-copy").mouseup(function(a){1===a.which&&"highlighted"===a.target.className&&$(".Question .body-copy").getHighlighter().removeHighlights(a.target)});var a=$("label[for='Answer0'] > .rf-multiselect-item-label");a.html('<span class="choiceNum">1. </span><span id="choiceText1">Answer Choice 1</span>');
a=$("label[for$='Answer1'] > .rf-multiselect-item-label");a.html('<span class="choiceNum">2. </span><span id="choiceText2">Answer Choice 2</span>');a=$("label[for='Answer2'] > .rf-multiselect-item-label");a.html('<span class="choiceNum">3. </span><span id="choiceText3">Answer Choice 3</span>');a=$("label[for='Answer3'] > .rf-multiselect-item-label");a.html('<span class="choiceNum">4. </span><span id="choiceText4">Answer Choice 4</span>')}};
TEP_EXAM.controller={saveTutorialState:function(){sessionStorage.setItem("TutorialState",JSON.stringify(TEP_EXAM.model.state))},endTutorial:function(){sessionStorage.removeItem("TutorialState");sessionStorage.removeItem("TimeString");window.location.replace("https://therapyexamprep.com/products/practice-exam/client/practiceexam/page0.php")},prevButtonClicked:function(a){sessionStorage.setItem("TimeString",TEP_EXAM.model.timer.getTimeValues().toString());window.location.replace(a)},markButtonClicked:function(){TEP_EXAM.view.toggleMarked()},
nextButtonClicked:function(a){sessionStorage.setItem("TimeString",TEP_EXAM.model.timer.getTimeValues().toString());window.location.replace(a)},radioLabelClicked:function(a){TEP_EXAM.model.state.updateOptionStrike(a)},hasRequiredBrowserFeatures:function(){return Modernizr.eventlistener&&Modernizr.json&&Modernizr.localstorage&&Modernizr.sessionstorage?!0:!1},initialize:function(){TEP_EXAM.view.initialize();if(this.hasRequiredBrowserFeatures()){var a=sessionStorage.getItem("TutorialState");a&&TEP_EXAM.model.state.restoreState(JSON.parse(a));
TEP_EXAM.model.startTimer(TEP_EXAM.view.updateTimer);TEP_EXAM.eventEmitter.addListeners("EVENT_TIMER_EXPIRED",[TEP_EXAM.controller.endTutorial]);TEP_EXAM.controller.saveTutorialState()}else window.location.replace("error.php")}};
$(document).ready(function(){var a=sessionStorage.getItem("TimeString");null!==a&&$("#TimerDisplay").html(a);TEP_EXAM.controller.initialize();0==$("#rackforms-output-div-page2").size()&&($(".radio-column label.radio.checkbox").click(function(a){0==$(this).parents("#fb_fld-QuestionMetaView").size()&&(a.preventDefault(),$(this).toggleClass("eliminate"))}),$('.radio-column label.radio.checkbox input[type="radio"]').click(function(a){0==$(this).parents("#fb_fld-QuestionMetaView").size()&&a.stopPropagation()}))});